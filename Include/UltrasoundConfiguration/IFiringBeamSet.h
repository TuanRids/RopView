////////////////////////////////////////////////////////////////////////////////////////////////////
/// @file ultrasoundConfiguration/IFiringBeamSet.h
///
/// Declares the IFiredBeamSet interface.
////////////////////////////////////////////////////////////////////////////////////////////////////
#pragma once
#include <ultrasoundConfiguration/UltrasoundTypes.h>

namespace Instrumentation
{
  class IBeamSet;
  class IConnector;
  class IFiringBeam;

  ////////////////////////////////////////////////////////////////////////////////////////////////////
  /// An interface for a beam set fired on a connector 
  /// that have been added using IFiredBeamSet::Add. 
  ////////////////////////////////////////////////////////////////////////////////////////////////////
  class IFiringBeamSet
  {
  public:
    virtual ~IFiringBeamSet() = default;

    ////////////////////////////////////////////////////////////////////////////////////////////////////
    /// Get the interface IBeamSet for the beam set of this fired beam set.
    /// 
    /// @return
    /// The interface IBeamSet.
    ////////////////////////////////////////////////////////////////////////////////////////////////////
    virtual std::shared_ptr<IBeamSet> GetBeamSet() const = 0;

    ////////////////////////////////////////////////////////////////////////////////////////////////////
    /// Get the interface IConnector for the pulsing probe in this fired beam set.
    /// 
    /// @return
    /// The interface IConnector.
    ////////////////////////////////////////////////////////////////////////////////////////////////////
    virtual std::shared_ptr<IConnector> GetPulserConnector() const = 0;

    ////////////////////////////////////////////////////////////////////////////////////////////////////
    /// Get the ID of the pulsing pin used in this fired beam set.
    /// 
    /// @return
    /// The pulser pin ID.
    ////////////////////////////////////////////////////////////////////////////////////////////////////
    __declspec(deprecated("Deprecated. Use GetPulserPinId.")) virtual std::size_t GetPulserPin() const = 0;

    ////////////////////////////////////////////////////////////////////////////////////////////////////
    /// Get the interface IConnector for the receiving probe in this fired beam set.
    /// 
    /// @return
    /// The interface IConnector.
    ////////////////////////////////////////////////////////////////////////////////////////////////////
    virtual std::shared_ptr<IConnector> GetReceiverConnector() const = 0;

    ////////////////////////////////////////////////////////////////////////////////////////////////////
    /// Get the ID of the receiving pin used in this fired beam set.
    /// 
    /// @return
    /// The receiver pin ID.
    ////////////////////////////////////////////////////////////////////////////////////////////////////
    __declspec(deprecated("Deprecated. Use GetReceiverPinId.")) virtual std::size_t GetReceiverPin() const = 0;

    virtual std::size_t GetFiringBeamCount() const = 0;
    virtual std::shared_ptr<IFiringBeam> GetFiringBeam(std::size_t index) const = 0;

    ////////////////////////////////////////////////////////////////////////////////////////////////////
    /// Get the ID of the pulsing pin used in this fired beam set.
    /// 
    /// @return
    /// The pulser pin ID.
    ////////////////////////////////////////////////////////////////////////////////////////////////////
    virtual std::size_t GetPulserPinId() const = 0;

    ////////////////////////////////////////////////////////////////////////////////////////////////////
    /// Get the ID of the receiving pin used in this fired beam set.
    /// 
    /// @return
    /// The receiver pin ID.
    ////////////////////////////////////////////////////////////////////////////////////////////////////
    virtual std::size_t GetReceiverPinId() const = 0;
  };

  using IFiringBeamSetPtr = std::shared_ptr<IFiringBeamSet>;
  using IFiringBeamSetConstPtr = std::shared_ptr<const IFiringBeamSet>;
}
